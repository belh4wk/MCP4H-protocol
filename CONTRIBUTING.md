Follow ADDING_A_HOOK, RFC process, and COMPLIANCE_CHECKLIST. Add tests.